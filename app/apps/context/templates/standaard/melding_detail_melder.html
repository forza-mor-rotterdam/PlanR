{% load slice_iterable from main_tags %}
<section class="section--seperated"
         data-testid="detailMelder"
         id="detailMelder">
    <div class="container__details">
        <h2>
            <svg width="26"
                 height="26"
                 viewBox="0 0 20 20"
                 fill="none"
                 xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
            </svg>
            Melder
        </h2>
        {% if melding.signalen_voor_melding|length > 1 %}
            <div class="display--flex--md">
                <ul class="list-tabs">
                    {% for signaal in melding.signalen_voor_melding %}
                        <li>
                            <button class="btn btn--tab" data-index="{{ forloop.counter }}">
                                {% if signaal.bron_signaal_id|length > 8 %}
                                    ...{% slice_iterable signaal.bron_signaal_id -6 None %}
                                {% else %}
                                    {{ signaal.bron_signaal_id }}
                                {% endif %}
                            </button>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="display--flex--md">
                <div class="container__tab-content">
                    {% for signaal in melding.signalen_voor_melding %}
                        <div class="tab-content" data-index="{{ forloop.counter }}">
                            <div class="display--flex--md">
                                {% comment %} {{ signaal }} {% endcomment %}
                                <ul class="list-clean incident-meta-list">
                                    {% if signaal.melder.naam %}
                                        <li>
                                            <p class="text--person">
                                                <svg width="20"
                                                     height="20"
                                                     viewBox="0 0 20 20"
                                                     fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
                                                </svg>
                                                {{ signaal.melder.naam }}
                                            </p>
                                        </li>
                                    {% endif %}
                                    {% if signaal.melder.voornaam %}
                                        <li>
                                            <p class="text--person">
                                                <svg width="20"
                                                     height="20"
                                                     viewBox="0 0 20 20"
                                                     fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
                                                </svg>
                                                {{ signaal.melder.voornaam }}
                                            </p>
                                        </li>
                                    {% endif %}
                                    {% if signaal.melder.achternaam %}
                                        <li>
                                            <p class="text--person">
                                                <svg width="20"
                                                     height="20"
                                                     viewBox="0 0 20 20"
                                                     fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
                                                </svg>
                                                {{ signaal.melder.achternaam }}
                                            </p>
                                        </li>
                                    {% endif %}
                                    {% if signaal.melder.telefoonnummer %}
                                        <li>
                                            <a href="tel:{{ melding.meta.telefoon_melder }}" class="link--phone">
                                                <svg width="22"
                                                     height="22"
                                                     viewBox="0 0 14 22"
                                                     fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M1.43934 0.5H12.5607L13.75 1.68934V20.3107L12.5607 21.5H1.43934L0.25 20.3107V1.68934L1.43934 0.5ZM2.06066 2L1.75 2.31066V19.6893L2.06066 20H11.9393L12.25 19.6893V2.31066L11.9393 2H10L9.25 3.5H4.75L4 2H2.06066ZM7 16.25C6.17157 16.25 5.5 16.9216 5.5 17.75C5.5 18.5784 6.17157 19.25 7 19.25C7.82843 19.25 8.5 18.5784 8.5 17.75C8.5 16.9216 7.82843 16.25 7 16.25Z" fill="#00811F" />
                                                </svg>
                                                {{ signaal.melder.telefoonnummer }}
                                            </a>
                                        </li>
                                    {% endif %}
                                    {% if signaal.melder.email %}
                                        <li>
                                            <a href="mailto:{{ signaal.melder.email }}" class="link--email">
                                                <svg width="22"
                                                     height="16"
                                                     viewBox="0 0 20 16"
                                                     fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.75 0.5H0.25V15.5H19.75V0.5ZM1.75 4.5V2H18.25V4.5L10 7.9375L1.75 4.5ZM1.75 6.125V14H18.25V6.125L10 9.5625L1.75 6.125Z" fill="#00811F" />
                                                </svg>
                                                {{ signaal.melder.email }}
                                            </a>
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            {% with signaal=melding.signalen_voor_melding.0 %}
                <div class="display--flex--md">
                    <ul class="list-clean incident-meta-list">
                        {% if signaal.melder.naam %}
                            <li>
                                <p class="text--person">
                                    <svg width="20"
                                         height="20"
                                         viewBox="0 0 20 20"
                                         fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
                                    </svg>
                                    {{ signaal.melder.naam }}
                                </p>
                            </li>
                        {% endif %}
                        {% if signaal.melder.voornaam %}
                            <li>
                                <p class="text--person">
                                    <svg width="20"
                                         height="20"
                                         viewBox="0 0 20 20"
                                         fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
                                    </svg>
                                    {{ signaal.melder.voornaam }}
                                </p>
                            </li>
                        {% endif %}
                        {% if signaal.melder.achternaam %}
                            <li>
                                <p class="text--person">
                                    <svg width="20"
                                         height="20"
                                         viewBox="0 0 20 20"
                                         fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10 19.75C15.3848 19.75 19.75 15.3848 19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75ZM16.8263 14.6344C17.7248 13.3135 18.25 11.7181 18.25 10C18.25 5.44365 14.5563 1.75 10 1.75C5.44365 1.75 1.75 5.44365 1.75 10C1.75 11.7442 2.29129 13.362 3.21505 14.6946C3.20119 14.6746 3.18741 14.6545 3.17373 14.6344C4.21773 13.4205 5.57996 12.4882 7.13098 11.967C6.13466 11.1415 5.5 9.89489 5.5 8.5C5.5 6.01472 7.51472 4 10 4C12.4853 4 14.5 6.01472 14.5 8.5C14.5 9.8949 13.8653 11.1416 12.869 11.967C14.42 12.4883 15.7823 13.4206 16.8263 14.6344ZM15.8549 15.8123C14.4804 14.0978 12.3684 13 9.99998 13C7.63159 13 5.5196 14.0978 4.14511 15.8123C5.63972 17.3178 7.71099 18.25 10 18.25C12.289 18.25 14.3603 17.3178 15.8549 15.8123ZM10 5.5C8.34315 5.5 7 6.84315 7 8.5C7 10.1569 8.34315 11.5 10 11.5C11.6569 11.5 13 10.1569 13 8.5C13 6.84315 11.6569 5.5 10 5.5Z" fill="#00811F" />
                                    </svg>
                                    {{ signaal.melder.achternaam }}
                                </p>
                            </li>
                        {% endif %}
                        {% if signaal.melder.telefoonnummer %}
                            <li>
                                <a href="tel:{{ melding.meta.telefoon_melder }}" class="link--phone">
                                    <svg width="22"
                                         height="22"
                                         viewBox="0 0 14 22"
                                         fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.43934 0.5H12.5607L13.75 1.68934V20.3107L12.5607 21.5H1.43934L0.25 20.3107V1.68934L1.43934 0.5ZM2.06066 2L1.75 2.31066V19.6893L2.06066 20H11.9393L12.25 19.6893V2.31066L11.9393 2H10L9.25 3.5H4.75L4 2H2.06066ZM7 16.25C6.17157 16.25 5.5 16.9216 5.5 17.75C5.5 18.5784 6.17157 19.25 7 19.25C7.82843 19.25 8.5 18.5784 8.5 17.75C8.5 16.9216 7.82843 16.25 7 16.25Z" fill="#00811F" />
                                    </svg>
                                    {{ signaal.melder.telefoonnummer }}
                                </a>
                            </li>
                        {% endif %}
                        {% if signaal.melder.email %}
                            <li>
                                <a href="mailto:{{ signaal.melder.email }}" class="link--email">
                                    <svg width="22"
                                         height="16"
                                         viewBox="0 0 20 16"
                                         fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.75 0.5H0.25V15.5H19.75V0.5ZM1.75 4.5V2H18.25V4.5L10 7.9375L1.75 4.5ZM1.75 6.125V14H18.25V6.125L10 9.5625L1.75 6.125Z" fill="#00811F" />
                                    </svg>
                                    {{ signaal.melder.email }}
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            {% endwith %}
        {% endif %}
    </div>
</section>
